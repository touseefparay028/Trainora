@model LearningManagementSystem.Models.DTO.TestVM.TestResultVM

@{
    ViewData["Title"] = "My Test Result";
    Layout = "~/Views/Shared/StudentLayout.cshtml";
}

<div class="container mt-5">
    <div class="card shadow-lg p-4 rounded-3">
        <h3 class="fw-bold text-primary mb-4 text-center">
            📊 Test Result - @Model.TestTitle
        </h3>

        <div class="row mb-3">
            <div class="col-md-6">
                <strong>Attempted On:</strong>
                <div>@Model.TakenAt.ToString("dd MMM yyyy, hh:mm tt")</div>
            </div>

            <div class="col-md-6">
                <strong>Total Marks:</strong>
                <div>@Model.TotalMarks</div>
            </div>
        </div>

        <div class="text-center mt-4">
            <h4>🧾 Your Performance</h4>
            <p class="mt-2">
                <strong>Correct Answers:</strong> @Model.Score / @Model.TotalQuestions
            </p>

            @if (Model.AssignedMarks.HasValue && Model.AssignedMarks >= 0)
            {
                <h5 class="text-success mt-3">
                    ✅ Marks Awarded: @Model.AssignedMarks / @Model.TotalMarks
                </h5>
            }
            else
            {
                <h5 class="text-warning mt-3">
                    ⚠️ Marks Not Assigned Yet
                </h5>
            }
            <a class="btn btn-info" asp-action="ViewTestResponses" asp-route-testId="@ViewBag.TestId">
                View Your Answers
            </a>

        </div>
    </div>
</div>
