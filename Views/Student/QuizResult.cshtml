@{
    ViewData["Title"] = "Quiz Result - Trainora";
    var score = (int)ViewBag.Score;
    var total = (int)ViewBag.Total;
    var percentage = (int)((score * 100.0) / total);
    Layout = "~/Views/Shared/StudentLayout.cshtml";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<style>
    .result-card {
        max-width: 500px;
        margin: 0 auto;
        margin-top: 70px;
        border-radius: 14px;
        padding: 30px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.08);
        text-align: center;
    }

        .result-card h2 {
            font-weight: 700;
            color: #1d4ed8;
            margin-bottom: 20px;
        }

    .score-badge {
        font-size: 2rem;
        font-weight: 700;
        padding: 15px 25px;
        border-radius: 50px;
        display: inline-block;
        margin-bottom: 20px;
    }

    .score-good {
        background-color: #d1fae5;
        color: #065f46;
    }

    .score-medium {
        background-color: #fef9c3;
        color: #92400e;
    }

    .score-bad {
        background-color: #fee2e2;
        color: #991b1b;
    }

    .btn-try {
        background-color: #1d4ed8;
        border: none;
        padding: 12px 25px;
        font-size: 1rem;
        border-radius: 8px;
        transition: 0.2s;
    }

        .btn-try:hover {
            background-color: #0f3bb2;
            transform: scale(1.03);
        }
</style>

<div class="container">
    <div class="result-card bg-white">
        <i class="bi bi-award-fill text-warning fs-1"></i>
        <h2>Quiz Result</h2>

        <!-- Score Display -->
        <div class="score-badge @(percentage >= 75 ? "score-good" : percentage >= 40 ? "score-medium" : "score-bad")">
            @score / @total
        </div>

        <p class="text-muted">
            You scored <b>@score</b> out of <b>@total</b>
            (<b>@percentage%</b> correct).
        </p>

        <!-- Action Button -->
        <a asp-action="TakeQuiz" class="btn btn-try shadow-lg mt-3">
            <i class="bi bi-arrow-repeat me-2"></i> Try Again
        </a>
    </div>
</div>
