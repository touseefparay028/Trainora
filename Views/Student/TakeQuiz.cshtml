@using LearningManagementSystem.Models.DTO
@model List<QuizQuestionVM>

@{
    ViewData["Title"] = "Take Quiz - Trainora";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<style>
    .quiz-header {
        text-align: center;
        margin-bottom: 40px;
    }
    .quiz-header h2 {
        font-weight: 700;
        color: #1d4ed8;
    }
    .quiz-card {
        border-radius: 12px;
        transition: transform 0.2s ease-in-out, box-shadow 0.2s;
    }
    .quiz-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }
    .quiz-card h5 {
        font-weight: 600;
        color: #222;
    }
    .form-check-input:checked {
        background-color: #1d4ed8;
        border-color: #1d4ed8;
    }
    .btn-submit {
        background-color: #1d4ed8;
        border: none;
        padding: 12px 30px;
        font-size: 1.1rem;
        border-radius: 8px;
        transition: 0.2s;
    }
    .btn-submit:hover {
        background-color: #0f3bb2;
        transform: scale(1.03);
    }
</style>

<div class="container mt-5">
    <!-- Quiz Header -->
    <div class="quiz-header">
        <i class="bi bi-mortarboard-fill fs-1 text-primary"></i>
        <h2 class="mt-3">Computer Science Quiz</h2>
        <p class="text-muted">Answer all questions to test your knowledge.</p>
    </div>

    <!-- Quiz Form -->
    <form asp-action="SubmitQuiz" method="post">
        @for (int i = 0; i < Model.Count; i++)
        {
            <div class="card quiz-card shadow-sm mb-4 p-4">
                <h5 class="mb-3">Q@(i + 1). @Model[i].QuestionText</h5>

                @for (int j = 0; j < Model[i].Options.Count; j++)
                {
                    <div class="form-check mb-2">
                        <input type="radio" class="form-check-input"
                               id="q@i-option@j"
                               name="Answers[@i].SelectedAnswer"
                               value="@Model[i].Options[j]" required />
                        <label class="form-check-label" for="q@i-option@j">
                            @Model[i].Options[j]
                        </label>
                    </div>
                }

                <!-- Hidden fields -->
                <input type="hidden" name="Answers[@i].QuestionId" value="@Model[i].QuestionId" />
                <input type="hidden" name="Answers[@i].QuestionText" value="@Model[i].QuestionText" />
            </div>
        }

        <!-- Submit Button -->
        <div class="text-center">
            <button type="submit" class="btn btn-submit shadow-lg">
                <i class="bi bi-check-circle-fill me-2"></i> Submit Quiz
            </button>
        </div>
    </form>
</div>
